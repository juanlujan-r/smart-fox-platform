# Smart Fox - Especificaciones de Base de Datos (HR & Contratos)
Contexto: Supabase PostgreSQL.

## 1. Extensiones de Tabla `profiles`
Asegurar que la tabla incluya estos campos con sus restricciones:
- `first_name`, `last_name` (text)
- `document_type` (text: 'CC', 'CE', 'TE', 'PEP')
- `blood_type` (text: RH)
- `eps`, `arl`, `pension_fund`, `severance_fund` (text)
- `hiring_date` (date)
- `contract_type` (text CHECK: 'Obra labor', 'Término indefinido', 'Término fijo', 'Prestación de servicios')
- `personal_data` (jsonb): Solo el campo `emergency_contact` es editable por el usuario.

## 2. Reglas de Negocio
- Los certificados laborales se generan solo si `hiring_date` y `contract_type` están presentes.
- RLS: Los usuarios pueden VER todo su perfil, pero solo pueden ACTUALIZAR la clave `emergency_contact` dentro del jsonb `personal_data`.
